<head>
    <script src="https://rawgit.com/pixijs/pixi.js/dev/bin/pixi.js"></script>
    <script src="easing.js"></script>
    <script src="animate.js"></script>
    <script src="../update/update.js"></script>
    <script src="../debug/debug.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
    <script>
        Debug.init();
        Update.init();
        Animate.init();

        function triangle(size, color)
        {
            var half = size / 2;
            var g = new PIXI.Graphics();
            stage.addChild(g);
            g.beginFill(color);
            g.moveTo(0, -half);
            g.lineTo(-half, half);
            g.lineTo(half, half);
            g.closePath();
            g.endFill();
            return g;
        }

        var renderer = new PIXI.WebGLRenderer(1000, 1000, {transparent: true});
        document.body.appendChild(this.renderer.view);
        var stage = new PIXI.Container();

        var red = triangle(100, 0xff0000);
        red.position.set(50, 50);
        var green = triangle(50, 0x00ff00);
        green.position.set(300,300);
        var blue = triangle(50, 0x0000ff);
        blue.position.set(500,100);
        var sprite = PIXI.Sprite.fromImage('circle.png');
        stage.addChild(sprite);
        sprite.tint = 0x0000ff;
        sprite.position.set(200, 200);
        function update()
        {
            renderer.render(stage);
        }
        Update.add(update, null, null, {percent: 'Render'});

        // Animate.to(g, 'alpha', 0, 3000, null, Easing.easeInOutSine);
        Animate.to(red, {alpha: 0.1, x: 500, y: 500, scale: {x: 5, y: 5}}, 1000, {repeat: true, reverse: true}, Easing.easeInOutSine);
        Animate.to(green, {x: 50, y: 400, rotation: 2 * Math.PI}, 2500, {reverse: true, repeat: true}, Easing.easeInSine);
        Animate.to(blue, {rotation: -2 * Math.PI}, 1000, {continue: true});
        Animate.tint(sprite, 0xff0000, 2000, {repeat: true, reverse: true});

        Update.update();

    </script>
</body>